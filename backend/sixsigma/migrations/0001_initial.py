# Generated by Django 5.2.6 on 2025-12-12 07:49

import django.core.validators
import django.db.models.deletion
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('projects', '0006_alter_project_methodology'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='BaselineMetric',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('metric_name', models.CharField(max_length=255)),
                ('baseline_value', models.DecimalField(decimal_places=4, max_digits=15)),
                ('current_value', models.DecimalField(decimal_places=4, max_digits=15)),
                ('target_value', models.DecimalField(decimal_places=4, max_digits=15)),
                ('unit', models.CharField(max_length=50)),
                ('baseline_sigma', models.DecimalField(blank=True, decimal_places=2, max_digits=4, null=True)),
                ('current_sigma', models.DecimalField(blank=True, decimal_places=2, max_digits=4, null=True)),
                ('target_sigma', models.DecimalField(blank=True, decimal_places=2, max_digits=4, null=True)),
                ('measured_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='baseline_metrics', to='projects.project')),
            ],
            options={
                'verbose_name': 'Baseline Metric',
                'verbose_name_plural': 'Baseline Metrics',
            },
        ),
        migrations.CreateModel(
            name='ControlChart',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('chart_type', models.CharField(choices=[('i_mr', 'I-MR (Individuals)'), ('xbar_r', 'X-bar R'), ('xbar_s', 'X-bar S'), ('p', 'P Chart (Proportion)'), ('np', 'NP Chart'), ('c', 'C Chart (Count)'), ('u', 'U Chart')], max_length=10)),
                ('metric_name', models.CharField(max_length=255)),
                ('unit', models.CharField(blank=True, max_length=50)),
                ('ucl', models.DecimalField(decimal_places=4, help_text='Upper Control Limit', max_digits=15)),
                ('lcl', models.DecimalField(decimal_places=4, help_text='Lower Control Limit', max_digits=15)),
                ('center_line', models.DecimalField(decimal_places=4, help_text='Center Line (Mean)', max_digits=15)),
                ('usl', models.DecimalField(blank=True, decimal_places=4, help_text='Upper Specification Limit', max_digits=15, null=True)),
                ('lsl', models.DecimalField(blank=True, decimal_places=4, help_text='Lower Specification Limit', max_digits=15, null=True)),
                ('target', models.DecimalField(blank=True, decimal_places=4, max_digits=15, null=True)),
                ('cp', models.DecimalField(blank=True, decimal_places=3, help_text='Process Capability', max_digits=5, null=True)),
                ('cpk', models.DecimalField(blank=True, decimal_places=3, help_text='Process Capability Index', max_digits=5, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='control_charts', to='projects.project')),
            ],
            options={
                'verbose_name': 'Control Chart',
                'verbose_name_plural': 'Control Charts',
            },
        ),
        migrations.CreateModel(
            name='ControlChartData',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateTimeField()),
                ('value', models.DecimalField(decimal_places=4, max_digits=15)),
                ('subgroup_size', models.PositiveIntegerField(default=1)),
                ('is_violation', models.BooleanField(default=False)),
                ('violation_rule', models.CharField(blank=True, help_text='Which control rule was violated', max_length=100)),
                ('assignable_cause', models.TextField(blank=True)),
                ('corrective_action', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('chart', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='data_points', to='sixsigma.controlchart')),
                ('recorded_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Control Chart Data',
                'verbose_name_plural': 'Control Chart Data Points',
                'ordering': ['date'],
            },
        ),
        migrations.CreateModel(
            name='ControlPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('process_name', models.CharField(max_length=255)),
                ('effective_date', models.DateField()),
                ('revision', models.PositiveIntegerField(default=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('process_owner', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='owned_control_plans', to=settings.AUTH_USER_MODEL)),
                ('project', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='control_plan', to='projects.project')),
            ],
            options={
                'verbose_name': 'Control Plan',
                'verbose_name_plural': 'Control Plans',
            },
        ),
        migrations.CreateModel(
            name='ControlPlanItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('process_step', models.CharField(max_length=255)),
                ('characteristic', models.CharField(help_text='What to control', max_length=255)),
                ('specification', models.CharField(help_text='Target/limits', max_length=255)),
                ('measurement_method', models.CharField(max_length=255)),
                ('sample_size', models.CharField(max_length=100)),
                ('frequency', models.CharField(max_length=100)),
                ('control_method', models.CharField(help_text="How it's controlled", max_length=255)),
                ('reaction_plan', models.TextField(help_text='What to do if out of control')),
                ('order', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('plan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='sixsigma.controlplan')),
                ('responsible', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Control Plan Item',
                'verbose_name_plural': 'Control Plan Items',
                'ordering': ['order'],
            },
        ),
        migrations.CreateModel(
            name='DataCollectionPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('objective', models.TextField(help_text='What are we trying to measure?')),
                ('data_collection_method', models.TextField(blank=True)),
                ('sampling_strategy', models.TextField(blank=True)),
                ('target_sample_size', models.PositiveIntegerField(default=30)),
                ('start_date', models.DateField(blank=True, null=True)),
                ('end_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('planning', 'Planning'), ('collecting', 'Collecting'), ('completed', 'Completed')], default='planning', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('project', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='data_collection_plan', to='projects.project')),
            ],
            options={
                'verbose_name': 'Data Collection Plan',
                'verbose_name_plural': 'Data Collection Plans',
            },
        ),
        migrations.CreateModel(
            name='DataCollectionMetric',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('data_type', models.CharField(choices=[('continuous', 'Continuous'), ('discrete', 'Discrete'), ('attribute', 'Attribute')], max_length=20)),
                ('operational_definition', models.TextField(help_text='Clear definition of what is measured')),
                ('data_source', models.CharField(max_length=255)),
                ('collection_frequency', models.CharField(max_length=100)),
                ('target_samples', models.PositiveIntegerField(default=30)),
                ('collected_samples', models.PositiveIntegerField(default=0)),
                ('unit', models.CharField(blank=True, max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('responsible_person', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('plan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='metrics', to='sixsigma.datacollectionplan')),
            ],
            options={
                'verbose_name': 'Data Collection Metric',
                'verbose_name_plural': 'Data Collection Metrics',
            },
        ),
        migrations.CreateModel(
            name='FishboneDiagram',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('problem_statement', models.TextField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('project', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='fishbone_diagram', to='projects.project')),
            ],
            options={
                'verbose_name': 'Fishbone Diagram',
                'verbose_name_plural': 'Fishbone Diagrams',
            },
        ),
        migrations.CreateModel(
            name='FishboneCause',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('category', models.CharField(choices=[('manpower', 'Manpower (People)'), ('method', 'Method (Process)'), ('machine', 'Machine (Equipment)'), ('material', 'Material'), ('measurement', 'Measurement'), ('mother_nature', 'Mother Nature (Environment)')], max_length=20)),
                ('cause', models.TextField()),
                ('sub_cause', models.TextField(blank=True, help_text='More specific cause')),
                ('votes', models.PositiveIntegerField(default=0)),
                ('is_root_cause', models.BooleanField(default=False)),
                ('verified', models.BooleanField(default=False, help_text='Verified with data')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('fishbone', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='causes', to='sixsigma.fishbonediagram')),
            ],
            options={
                'verbose_name': 'Fishbone Cause',
                'verbose_name_plural': 'Fishbone Causes',
                'ordering': ['category', '-votes', '-is_root_cause'],
            },
        ),
        migrations.CreateModel(
            name='FMEA',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('process_step', models.CharField(max_length=255)),
                ('potential_failure_mode', models.TextField()),
                ('potential_effect', models.TextField()),
                ('potential_cause', models.TextField()),
                ('severity', models.PositiveIntegerField(help_text='Severity of effect (1-10)', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(10)])),
                ('occurrence', models.PositiveIntegerField(help_text='Likelihood of occurrence (1-10)', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(10)])),
                ('detection', models.PositiveIntegerField(help_text='Ability to detect (1-10, lower is better)', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(10)])),
                ('current_controls', models.TextField(blank=True)),
                ('recommended_action', models.TextField(blank=True)),
                ('target_date', models.DateField(blank=True, null=True)),
                ('action_taken', models.TextField(blank=True)),
                ('new_severity', models.PositiveIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(10)])),
                ('new_occurrence', models.PositiveIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(10)])),
                ('new_detection', models.PositiveIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(10)])),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('action_owner', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fmea_items', to='projects.project')),
            ],
            options={
                'verbose_name': 'FMEA',
                'verbose_name_plural': 'FMEA Items',
                'ordering': ['-severity', '-occurrence'],
            },
        ),
        migrations.CreateModel(
            name='HypothesisTest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('test_type', models.CharField(choices=[('1_sample_t', '1-Sample T-Test'), ('2_sample_t', '2-Sample T-Test'), ('paired_t', 'Paired T-Test'), ('1_proportion', '1-Proportion Test'), ('2_proportion', '2-Proportion Test'), ('chi_square', 'Chi-Square Test'), ('anova', 'ANOVA'), ('regression', 'Regression'), ('correlation', 'Correlation')], max_length=20)),
                ('null_hypothesis', models.TextField(help_text='H0: Statement of no effect/difference')),
                ('alt_hypothesis', models.TextField(help_text='Ha: Statement of effect/difference')),
                ('alpha', models.DecimalField(decimal_places=3, default=Decimal('0.05'), help_text='Significance level', max_digits=4)),
                ('sample_size', models.PositiveIntegerField(blank=True, null=True)),
                ('test_statistic', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True)),
                ('p_value', models.DecimalField(blank=True, decimal_places=6, max_digits=10, null=True)),
                ('confidence_interval_lower', models.DecimalField(blank=True, decimal_places=4, max_digits=15, null=True)),
                ('confidence_interval_upper', models.DecimalField(blank=True, decimal_places=4, max_digits=15, null=True)),
                ('conclusion', models.CharField(blank=True, choices=[('reject', 'Reject Null Hypothesis'), ('fail_to_reject', 'Fail to Reject Null Hypothesis'), ('inconclusive', 'Inconclusive')], max_length=20)),
                ('interpretation', models.TextField(blank=True)),
                ('test_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='hypothesis_tests', to='projects.project')),
            ],
            options={
                'verbose_name': 'Hypothesis Test',
                'verbose_name_plural': 'Hypothesis Tests',
            },
        ),
        migrations.CreateModel(
            name='MSAResult',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('study_name', models.CharField(max_length=255)),
                ('measurement_system', models.CharField(max_length=255)),
                ('study_date', models.DateField(blank=True, null=True)),
                ('repeatability', models.DecimalField(decimal_places=2, help_text='Equipment variation %', max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('reproducibility', models.DecimalField(decimal_places=2, help_text='Appraiser variation %', max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('gauge_rr', models.DecimalField(decimal_places=2, help_text='Total Gauge R&R %', max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('part_to_part', models.DecimalField(blank=True, decimal_places=2, help_text='Part-to-part variation %', max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('ndc', models.PositiveIntegerField(help_text='Number of Distinct Categories', validators=[django.core.validators.MinValueValidator(1)])),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('project', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='msa_result', to='projects.project')),
            ],
            options={
                'verbose_name': 'MSA Result',
                'verbose_name_plural': 'MSA Results',
            },
        ),
        migrations.CreateModel(
            name='ParetoAnalysis',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('analysis_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pareto_analyses', to='projects.project')),
            ],
            options={
                'verbose_name': 'Pareto Analysis',
                'verbose_name_plural': 'Pareto Analyses',
            },
        ),
        migrations.CreateModel(
            name='ParetoCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('count', models.PositiveIntegerField()),
                ('order', models.PositiveIntegerField(default=0)),
                ('analysis', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='categories', to='sixsigma.paretoanalysis')),
            ],
            options={
                'verbose_name': 'Pareto Category',
                'verbose_name_plural': 'Pareto Categories',
                'ordering': ['-count'],
            },
        ),
        migrations.CreateModel(
            name='ProjectCharter',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('problem_statement', models.TextField()),
                ('business_case', models.TextField(help_text='Why this project matters')),
                ('goal_statement', models.TextField(help_text='SMART goal')),
                ('project_scope', models.TextField()),
                ('out_of_scope', models.TextField(blank=True)),
                ('estimated_savings', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estimated_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('target_completion_date', models.DateField(blank=True, null=True)),
                ('approved', models.BooleanField(default=False)),
                ('approved_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_sixsigma_charters', to=settings.AUTH_USER_MODEL)),
                ('champion', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='championed_sixsigma_projects', to=settings.AUTH_USER_MODEL)),
                ('process_owner', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='owned_sixsigma_processes', to=settings.AUTH_USER_MODEL)),
                ('project', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='sixsigma_charter', to='projects.project')),
            ],
            options={
                'verbose_name': 'Six Sigma Charter',
                'verbose_name_plural': 'Six Sigma Charters',
            },
        ),
        migrations.CreateModel(
            name='ProjectClosure',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('initial_sigma', models.DecimalField(decimal_places=2, max_digits=4)),
                ('final_sigma', models.DecimalField(decimal_places=2, max_digits=4)),
                ('initial_defect_rate', models.DecimalField(decimal_places=4, help_text='DPMO or percentage', max_digits=10)),
                ('final_defect_rate', models.DecimalField(decimal_places=4, help_text='DPMO or percentage', max_digits=10)),
                ('projected_savings', models.DecimalField(decimal_places=2, max_digits=12)),
                ('realized_savings', models.DecimalField(decimal_places=2, max_digits=12)),
                ('total_project_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('lessons_learned', models.TextField()),
                ('best_practices', models.TextField(blank=True)),
                ('recommendations', models.TextField(blank=True)),
                ('handover_completed', models.BooleanField(default=False)),
                ('training_completed', models.BooleanField(default=False)),
                ('documentation_completed', models.BooleanField(default=False)),
                ('closure_date', models.DateField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_sixsigma_closures', to=settings.AUTH_USER_MODEL)),
                ('process_owner', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='received_sixsigma_closures', to=settings.AUTH_USER_MODEL)),
                ('project', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='sixsigma_closure', to='projects.project')),
            ],
            options={
                'verbose_name': 'Project Closure',
                'verbose_name_plural': 'Project Closures',
            },
        ),
        migrations.CreateModel(
            name='SIPOCDiagram',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('process_name', models.CharField(max_length=255)),
                ('process_description', models.TextField(blank=True)),
                ('process_start', models.TextField(help_text='Process trigger/start point')),
                ('process_end', models.TextField(help_text='Process end point/deliverable')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_sipocs', to=settings.AUTH_USER_MODEL)),
                ('project', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='sipoc_diagram', to='projects.project')),
            ],
            options={
                'verbose_name': 'SIPOC Diagram',
                'verbose_name_plural': 'SIPOC Diagrams',
            },
        ),
        migrations.CreateModel(
            name='SIPOCItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('category', models.CharField(choices=[('suppliers', 'Suppliers'), ('inputs', 'Inputs'), ('process', 'Process Steps'), ('outputs', 'Outputs'), ('customers', 'Customers')], max_length=20)),
                ('description', models.TextField()),
                ('order', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('sipoc', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='sixsigma.sipocdiagram')),
            ],
            options={
                'verbose_name': 'SIPOC Item',
                'verbose_name_plural': 'SIPOC Items',
                'ordering': ['category', 'order'],
            },
        ),
        migrations.CreateModel(
            name='Solution',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('category', models.CharField(choices=[('process', 'Process Change'), ('technology', 'Technology'), ('people', 'People/Training'), ('policy', 'Policy Change'), ('equipment', 'Equipment'), ('other', 'Other')], default='process', max_length=20)),
                ('impact', models.CharField(choices=[('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], default='medium', max_length=10)),
                ('effort', models.CharField(choices=[('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], default='medium', max_length=10)),
                ('expected_improvement', models.DecimalField(blank=True, decimal_places=2, help_text='Expected improvement percentage', max_digits=5, null=True)),
                ('expected_savings', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('implementation_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('status', models.CharField(choices=[('proposed', 'Proposed'), ('evaluating', 'Evaluating'), ('approved', 'Approved'), ('piloting', 'Piloting'), ('implementing', 'Implementing'), ('implemented', 'Implemented'), ('rejected', 'Rejected')], default='proposed', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('addresses_root_cause', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='solutions', to='sixsigma.fishbonecause')),
                ('owner', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='solutions', to='projects.project')),
            ],
            options={
                'verbose_name': 'Solution',
                'verbose_name_plural': 'Solutions',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PilotPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('scope', models.TextField(help_text='Where/what will be piloted')),
                ('duration', models.CharField(max_length=100)),
                ('sample_size', models.PositiveIntegerField()),
                ('success_criteria', models.TextField()),
                ('primary_metric', models.CharField(max_length=255)),
                ('target_value', models.DecimalField(decimal_places=4, max_digits=15)),
                ('start_date', models.DateField(blank=True, null=True)),
                ('end_date', models.DateField(blank=True, null=True)),
                ('baseline_value', models.DecimalField(blank=True, decimal_places=4, max_digits=15, null=True)),
                ('pilot_value', models.DecimalField(blank=True, decimal_places=4, max_digits=15, null=True)),
                ('improvement_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('p_value', models.DecimalField(blank=True, decimal_places=6, help_text='Statistical significance', max_digits=10, null=True)),
                ('is_successful', models.BooleanField(null=True)),
                ('status', models.CharField(choices=[('planning', 'Planning'), ('active', 'Active'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='planning', max_length=20)),
                ('lessons_learned', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('solution', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='pilot', to='sixsigma.solution')),
            ],
            options={
                'verbose_name': 'Pilot Plan',
                'verbose_name_plural': 'Pilot Plans',
            },
        ),
        migrations.CreateModel(
            name='ImplementationPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('phase_name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('in_progress', 'In Progress'), ('completed', 'Completed'), ('on_hold', 'On Hold')], default='pending', max_length=20)),
                ('progress', models.PositiveIntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('owner', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='implementation_plans', to='projects.project')),
                ('solution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='implementation_plans', to='sixsigma.solution')),
            ],
            options={
                'verbose_name': 'Implementation Plan',
                'verbose_name_plural': 'Implementation Plans',
                'ordering': ['start_date'],
            },
        ),
        migrations.CreateModel(
            name='VoiceOfCustomer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('customer_segment', models.CharField(max_length=255)),
                ('customer_need', models.TextField(help_text='What the customer says they want')),
                ('ctq_requirement', models.TextField(help_text='Critical to Quality requirement')),
                ('measurement', models.CharField(help_text='How this will be measured', max_length=255)),
                ('target_value', models.CharField(help_text='Target specification', max_length=100)),
                ('lower_spec_limit', models.CharField(blank=True, max_length=100)),
                ('upper_spec_limit', models.CharField(blank=True, max_length=100)),
                ('priority', models.CharField(choices=[('critical', 'Critical'), ('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], default='medium', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='voc_items', to='projects.project')),
            ],
            options={
                'verbose_name': 'Voice of Customer',
                'verbose_name_plural': 'Voice of Customer Items',
                'ordering': ['-priority', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TollgateReview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('phase', models.CharField(choices=[('define', 'Define'), ('measure', 'Measure'), ('analyze', 'Analyze'), ('improve', 'Improve'), ('control', 'Control')], max_length=10)),
                ('scheduled_date', models.DateField(blank=True, null=True)),
                ('actual_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('upcoming', 'Upcoming'), ('scheduled', 'Scheduled'), ('in_review', 'In Review'), ('passed', 'Passed'), ('conditional', 'Conditional Pass'), ('failed', 'Failed'), ('rework', 'Rework Required')], default='upcoming', max_length=20)),
                ('checklist_completed', models.BooleanField(default=False)),
                ('deliverables_reviewed', models.TextField(blank=True)),
                ('findings', models.TextField(blank=True)),
                ('action_items', models.TextField(blank=True)),
                ('approved', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_tollgates', to=settings.AUTH_USER_MODEL)),
                ('attendees', models.ManyToManyField(blank=True, related_name='attended_tollgates', to=settings.AUTH_USER_MODEL)),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tollgate_reviews', to='projects.project')),
                ('reviewer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='conducted_tollgates', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Tollgate Review',
                'verbose_name_plural': 'Tollgate Reviews',
                'ordering': ['project', 'phase'],
                'unique_together': {('project', 'phase')},
            },
        ),
    ]
